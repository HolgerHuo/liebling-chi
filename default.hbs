<!DOCTYPE html>
<html lang="{{@site.locale}}">
  <head>
    {{!-- Document Settings --}}
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    {{!-- Base Meta --}}
    <title>{{meta_title}}</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {{!-- Preload assets --}}
    <link rel="preload" href="{{asset "css/app.css"}}" as="style" />
    <link rel="preload" href="{{asset "js/manifest.js"}}" as="script" />
    <link rel="preload" href="{{asset "js/vendor.js"}}" as="script" />
    <link rel="preload" href="{{asset "js/app.js"}}" as="script" />

    {{!-- This #block helper will try to preload page-specific assets --}}
    {{{block "preload"}}}

    {{!-- Styles & Scripts --}}
    <style>
      /* These font-faces are here to make fonts work if the Ghost instance is installed in a subdirectory */

      /* source-sans-pro-regular */
      @font-face {
        font-family: 'Noto Serif';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local(''),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-regular.woff2'}}") format('woff2'),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-regular.woff'}}") format('woff');
      }

      /* source-sans-pro-600 */
      @font-face {
        font-family: 'Noto Serif';
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: local(''),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-600.woff2'}}") format('woff2'),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-600.woff'}}") format('woff');
      }

      /* source-sans-pro-700 */
      @font-face {
        font-family: 'Noto Serif';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: local(''),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-700.woff2'}}") format('woff2'),
            url("{{asset 'fonts/noto-serif/noto-serif-sc-v22-latin_chinese-simplified-700.woff'}}") format('woff');
      }

      /* fontawesome */
      @font-face {
          font-family: 'Font Awesome 6 Brands';
          font-style: normal;
          font-weight: 400;
          font-display: block;
          
          src: url("{{asset 'fonts/fontawesome/fa-brands-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-brands-400.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'Font Awesome 6 Free';
          font-style: normal;
          font-weight: 400;
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-regular-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-regular-400.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'Font Awesome 6 Free';
          font-style: normal;
          font-weight: 900;
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-solid-900.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-solid-900.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'Font Awesome 5 Brands';
          font-display: block;
          font-weight: 400;
          src: url("{{asset 'fonts/fontawesome/fa-brands-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-brands-400.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'Font Awesome 5 Free';
          font-display: block;
          font-weight: 900;
          src: url("{{asset 'fonts/fontawesome/fa-solid-900.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-solid-900.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'Font Awesome 5 Free';
          font-display: block;
          font-weight: 400;
          src: url("{{asset 'fonts/fontawesome/fa-regular-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-regular-400.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'FontAwesome';
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-solid-900.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-solid-900.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'FontAwesome';
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-brands-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-brands-400.ttf'}}") format("truetype");
      }

      @font-face {
          font-family: 'FontAwesome';
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-regular-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-regular-400.ttf'}}") format("truetype");
          unicode-range: U+F003, U+F006, U+F014, U+F016-F017, U+F01A-F01B, U+F01D, U+F022, U+F03E, U+F044, U+F046, U+F05C-F05D, U+F06E, U+F070, U+F087-F088, U+F08A, U+F094, U+F096-F097, U+F09D, U+F0A0, U+F0A2, U+F0A4-F0A7, U+F0C5, U+F0C7, U+F0E5-F0E6, U+F0EB, U+F0F6-F0F8, U+F10C, U+F114-F115, U+F118-F11A, U+F11C-F11D, U+F133, U+F147, U+F14E, U+F150-F152, U+F185-F186, U+F18E, U+F190-F192, U+F196, U+F1C1-F1C9, U+F1D9, U+F1DB, U+F1E3, U+F1EA, U+F1F7, U+F1F9, U+F20A, U+F247-F248, U+F24A, U+F24D, U+F255-F25B, U+F25D, U+F271-F274, U+F278, U+F27B, U+F28C, U+F28E, U+F29C, U+F2B5, U+F2B7, U+F2BA, U+F2BC, U+F2BE, U+F2C0-F2C1, U+F2C3, U+F2D0, U+F2D2, U+F2D4, U+F2DC;
      }

      @font-face {
          font-family: 'FontAwesome';
          font-display: block;
          src: url("{{asset 'fonts/fontawesome/fa-brands-400.woff2'}}") format("woff2"), url("{{asset 'fonts/fontawesome/fa-v4compatibility.ttf'}}") format("truetype");
          unicode-range: U+F041, U+F047, U+F065-F066, U+F07D-F07E, U+F080, U+F08B, U+F08E, U+F090, U+F09A, U+F0AC, U+F0AE, U+F0B2, U+F0D0, U+F0D6, U+F0E4, U+F0EC, U+F10A-F10B, U+F123, U+F13E, U+F148-F149, U+F14C, U+F156, U+F15E, U+F160-F161, U+F163, U+F175-F178, U+F195, U+F1F8, U+F219, U+F27A;
      }
    </style>

    <link rel="stylesheet" type="text/css" href="{{asset "css/app.css"}}" media="screen" />

    {{!-- This #block helper will inject a stylesheet for a specific page --}}
    {{{block "styles"}}}

    {{!-- This #block helper will pull data from the hero partial 
    to inject styles of the hero image to make it responsive --}}
    {{{block "herobackground"}}}

    {{!-- This tag outputs SEO meta+structured data and other important settings --}}
    {{ghost_head}}

    {{!-- This style overrides the accent color to match the one from the Admin --}}
    <style>
      :root {
        --primary-subtle-color: var(--ghost-accent-color) !important;
      }
    </style>

    {{!-- These variables are used to make the search form work --}}
    <script>
      // @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
      const ghostHost = "{{@site.url}}"
      // @license-end
    </script>

    {{#if @custom.search_api_key}}
      <script>
        const ghostSearchApiKey = "{{@custom.search_api_key}}"
      </script>
    {{/if}}

    {{!-- This variable disbale the fade animation when it's enabled --}}
    {{#if @custom.disable_fade_animation}}
      <style>
        :root {
          --show-fade-animation: 0;
        }
      </style>
    {{/if}}

    {{!-- This script sets the correct theme mode (light or dark) --}}
    <script>
      if (typeof Storage !== 'undefined') {
        const currentSavedTheme = localStorage.getItem('theme')

        if (currentSavedTheme && currentSavedTheme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark')
        } else {
          document.documentElement.setAttribute('data-theme', 'light')
        }
      }
    </script>
  </head>
  <body class="{{body_class}}">
    {{!-- All the main content gets inserted here, index.hbs, post.hbs, etc --}}
    {{{body}}}

    {{!-- Search form --}}
    {{> search}}

    {{!-- The footer --}}
    {{> footer}}

    {{!-- Common scripts shared between pages --}}
    <script defer src="{{asset "js/manifest.js"}}"></script>
    <script defer src="{{asset "js/vendor.js"}}"></script>
    <script defer src="{{asset "js/app.js"}}"></script>

    {{!-- The #block helper will pull in data from the #contentFor other template files --}}
    {{{block "scripts"}}}

    {{!-- Ghost outputs important scripts and data with this tag --}}
    {{ghost_foot}}
  </body>
</html>
